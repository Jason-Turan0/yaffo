{% macro job_progress_card(job, show_cancel=true) %}
<div class="job-card" data-job-id="{{ job.id }}">
    <div class="job-header">
        <div>
            <span class="job-status">{{ job.status }}</span>
            <span class="job-time">Started: {{ (job.started_at or job.created_at) | format_date }}</span>
        </div>
        <div>
        <button class="btn btn-primary btn-sm show-job-results-btn job-btn-hidden" data-job-id="{{ job.id }}">Show Results</button>
        {% if show_cancel %}
        <button class="btn btn-danger btn-sm cancel-job-btn" data-job-id="{{ job.id }}">Cancel</button>
        {% endif %}
        </div>
    </div>
    <div class="job-message">{{ 'Initializing...' }}</div>
    <div class="progress-bar-container">
        <div class="progress-bar" style="width: {{ job.progress }}%"></div>
    </div>
    <div class="progress-text">{{ job.progress }}%</div>
</div>
{% endmacro %}